 <HTML>
    <HEAD>
    <meta name="author" content="Leonardo de Moura" />
    <meta name="author" content="Nikolaj Bjorner" />
    <meta name="description" content="Z3: SMT solver" />
    <meta name="keywords" content="decision procedure, theorem prover, SMT-LIB, SMTLIB, SMT LIB, SMT Solver, SMTCOMP, SMT-COMP, SAT solver, formal methods, constraint solver, software verification, hardware verification" />
      <TITLE>Z3: SMT solver</TITLE>
      <LINK HREF="z3.css" REL="stylesheet" TYPE="text/css">
      <LINK href="tabs.css" rel="stylesheet" type="text/css">
    </HEAD>
<BODY BGCOLOR="#FFFFFF">
<table class="centered-small">
  <tr>
    <th><a href="index.html"><span>Home</span></a></th>
    <th> &bull; </th>
    <th><a href="documentation.html"><span>Docs</span></a></th>
    <th> &bull; </th>
    <th><a href="download.html"><span>Download</span></a></th>
    <th> &bull; </th>
    <th><a href="mail.html"><span>Mail</span></a></th>
    <th> &bull; </th>
    <th><a href="faq.html"><span>FAQ</span></a></th>
    <th> &bull; </th>
    <th><a href="awards.html"><span>Awards</span></a></th>
    <th> &bull; </th>
    <th><a href="status.html"><span>Status</span></a></th>
    <th> &bull; </th>
    <th><a href="http://research.microsoft.com"><span>MSR</span></a></th>
  </tr>
</table>
<p class="Z3Title"><img align="middle" src="z3.png" alt="Z3" /> An Efficient SMT Solver</p>
<!-- Generated by Doxygen 1.5.9 -->
<div class="contents">
<h1>Z3 theories</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<h2><a class="anchor" name="theorisbasics">
Basics</a></h2>
There is a single basic sort, <b>bool</b>, which has op-code 0. The basic operators are, listed with their codes in the table below.<p>
<table border cellspacing="5" cellpadding="10">
<tr>
<th>Op-code </th><th>Mnmonics </th><th>Description  </th></tr>
<tr>
<td>0</td><td><b>true</b> </td><td>the constant <em>true</em>  </td></tr>
<tr>
<td>1</td><td><b>false</b> </td><td>the constant <em>false</em>  </td></tr>
<tr>
<td>2</td><td><b>=</b> </td><td>equality </td></tr>
<tr>
<td>3</td><td><b>distinct</b> </td><td>distincinctness  </td></tr>
<tr>
<td>4</td><td><b>ite</b> </td><td>if-then-else  </td></tr>
<tr>
<td>5</td><td><b>and</b> </td><td>n-ary conjunction  </td></tr>
<tr>
<td>6</td><td><b>or</b> </td><td>n-ary disjunction  </td></tr>
<tr>
<td>7</td><td><b>iff</b> </td><td>bi-impliciation  </td></tr>
<tr>
<td>8</td><td><b>xor</b> </td><td>exclusive or  </td></tr>
<tr>
<td>9</td><td><b>not</b> </td><td>negation  </td></tr>
<tr>
<td>10</td><td><b>implies</b> </td><td>implication  </td></tr>
</table>
<h2><a class="anchor" name="theoriesarithmetic">
Arithmetic</a></h2>
<h3><a class="anchor" name="tharithbuiltin">
Built-in operators</a></h3>
Arithmetical expression can be built from reals or integers. The arithmetical sorts are listed below and the supported operations are listed in the table thereafter.<p>
<table border cellspacing="5" cellpadding="10">
<tr>
<th>Op-code </th><th>Mnmonics </th><th>Description  </th></tr>
<tr>
<td>0 </td><td><b>real</b> </td><td>sort of reals </td></tr>
<tr>
<td>1 </td><td><b>int</b> </td><td>sort of integers </td></tr>
</table>
<p>
<table border cellspacing="5" cellpadding="10">
<tr>
<th>Op-code </th><th>Mnmonics </th><th>Description  </th></tr>
<tr>
<td>0 </td><td><b>&lt;=</b> </td><td>less-than or equal  </td></tr>
<tr>
<td>1 </td><td><b>&gt;=</b> </td><td>greater-than or equal  </td></tr>
<tr>
<td>2 </td><td><b>&lt;</b> </td><td>less-than  </td></tr>
<tr>
<td>3 </td><td><b>&gt;</b> </td><td>greater-than  </td></tr>
<tr>
<td>4 </td><td><b>+</b> </td><td>n-ary addition  </td></tr>
<tr>
<td>5 </td><td><b>-</b> </td><td>binary minus  </td></tr>
<tr>
<td>6 </td><td><b>~</b> </td><td>unary minus  </td></tr>
<tr>
<td>7 </td><td><b>*</b> </td><td>n-ary multiplication  </td></tr>
<tr>
<td>8 </td><td><b>/</b> </td><td>rational division  </td></tr>
<tr>
<td>9 </td><td><b>div</b> </td><td>integer division  </td></tr>
<tr>
<td>10 </td><td><b>rem</b> </td><td>integer remainder  </td></tr>
<tr>
<td>11 </td><td><b>mod</b> </td><td>integer modulus  </td></tr>
</table>
<h2><a class="anchor" name="theoriesbv">
Bit-vectors</a></h2>
To indicate the bit-vector length one adds a numeral parameter with the number of bits the bit-vector holds. For instance, a declaration of the form:<p>
<div class="fragment"><pre class="fragment">
  Type $1 bv [ 32 ] 
</pre></div><p>
declares a 32-bit bit-vector type.<p>
<table border cellspacing="5" cellpadding="10">
<tr>
<th>Op-code </th><th>Mnmonics </th><th>Parameters </th><th>Description  </th></tr>
<tr>
<td>0 </td><td><b>bit1</b>  </td><td></td><td>constant comprising of a single bit set to 1 </td></tr>
<tr>
<td>1 </td><td><b>bit0</b> </td><td></td><td>constant comprising of a single bit set to 0.  </td></tr>
<tr>
<td>2 </td><td><b>bvneg</b> </td><td></td><td>Unary subtraction.  </td></tr>
<tr>
<td>3 </td><td><b>bvadd</b> </td><td></td><td>addition.  </td></tr>
<tr>
<td>4 </td><td><b>bvsub</b> </td><td></td><td>subtraction.  </td></tr>
<tr>
<td>5 </td><td><b>bvmul</b> </td><td></td><td>multiplication.  </td></tr>
<tr>
<td>6 </td><td><b>bvsdiv</b> </td><td></td><td>signed division.  </td></tr>
<tr>
<td>7 </td><td><b>bvudiv</b> </td><td></td><td>unsigned division. The operands are treated as unsigned numbers.  </td></tr>
<tr>
<td>8 </td><td><b>bvsrem</b> </td><td></td><td>signed remainder.  </td></tr>
<tr>
<td>9 </td><td><b>bvurem</b> </td><td></td><td>unsigned remainder.  </td></tr>
<tr>
<td>10 </td><td><b>bvsmod</b> </td><td></td><td>signed modulus.  </td></tr>
<tr>
<td>11 </td><td><b>bvule</b> </td><td></td><td>unsigned <b>&lt;=</b>.  </td></tr>
<tr>
<td>12 </td><td><b>bvsle</b> </td><td></td><td>signed <b>&lt;=</b>.  </td></tr>
<tr>
<td>13</td><td><b>bvuge</b> </td><td></td><td>unsigned <b>&gt;=</b>.  </td></tr>
<tr>
<td>14 </td><td><b>bvsge</b> </td><td></td><td>signed <b>&gt;=</b>.  </td></tr>
<tr>
<td>15 </td><td><b>bvult</b> </td><td></td><td>unsigned <b>&lt;</b>.  </td></tr>
<tr>
<td>16 </td><td><b>bvslt</b> </td><td></td><td>signed <b>&lt;</b>.  </td></tr>
<tr>
<td>17 </td><td><b>bvugt</b> </td><td></td><td>unsigned <b>&gt;</b>.  </td></tr>
<tr>
<td>18 </td><td><b>bvsgt</b> </td><td></td><td>signed <b>&gt;</b>.  </td></tr>
<tr>
<td>19 </td><td><b>bvand</b> </td><td></td><td>n-ary (associative/commutative) bit-wise and.  </td></tr>
<tr>
<td>20 </td><td><b>bvor</b> </td><td></td><td>n-ary (associative/commutative) bit-wise or.  </td></tr>
<tr>
<td>21 </td><td><b>bvnot</b> </td><td></td><td>bit-wise not.  </td></tr>
<tr>
<td>22 </td><td><b>bvxor</b> </td><td></td><td>n-ary bit-wise xor.  </td></tr>
<tr>
<td>23 </td><td><b>bvnand</b> </td><td></td><td>bit-wise nand.  </td></tr>
<tr>
<td>24 </td><td><b>bvnor</b> </td><td></td><td>bit-wise nor.  </td></tr>
<tr>
<td>25 </td><td><b>bvxnor</b> </td><td></td><td>bit-wise exclusive nor.  </td></tr>
<tr>
<td>26 </td><td><b>concat</b> </td><td></td><td>bit-vector concatentaion.  </td></tr>
<tr>
<td>27 </td><td><b>sign</b> </td><td><em>n</em></td><td><em>n</em>-bit sign extension.  </td></tr>
<tr>
<td>28</td><td><b>zero</b> </td><td><em>n</em></td><td><em>n</em>-bit zero extension.  </td></tr>
<tr>
<td>29 </td><td><b>extract</b> </td><td><em>hi:low</em> </td><td><em>hi</em>-<em>low</em> bit-extraction.  </td></tr>
<tr>
<td>30 </td><td><b>repeat</b> </td><td><em>n</em> </td><td>repeat $n$ times.  </td></tr>
<tr>
<td>31 </td><td><b>bvredor</b> </td><td></td><td>or-reduction.  </td></tr>
<tr>
<td>32 </td><td><b>bvredand</b> </td><td></td><td>and-reducdtion.  </td></tr>
<tr>
<td>33 </td><td><b>bvcomp</b> </td><td></td><td>bit-vector comparison.  </td></tr>
<tr>
<td>34 </td><td><b>bvshl</b> </td><td></td><td>shift-left.  </td></tr>
<tr>
<td>35 </td><td><b>bvlshr</b> </td><td></td><td>logical shift-right.  </td></tr>
<tr>
<td>36 </td><td><b>bvrshr</b> </td><td></td><td>arithmetical shift-right.  </td></tr>
<tr>
<td>37 </td><td><b>bvrotate</b> </td><td><em>n</em> </td><td><em>n</em>-bit left rotation.  </td></tr>
<tr>
<td>38 </td><td><b>bvrotate</b> </td><td><em>n</em> </td><td><em>n</em>-bit right rotation.  </td></tr>
</table>
<h2><a class="anchor" name="theoriesarrays">
Arrays</a></h2>
<h3><a class="anchor" name="tharraybuiltinops">
Built-in operators</a></h3>
There is a single built-in sort constructor for arrays with code 0. It is followed by a sequence of parameters indicating the domain sorts and the range of the array.<p>
<table border cellspacing="5" cellpadding="10">
<tr>
<th>Op-code </th><th>Mnmonics </th><th>Description  </th></tr>
<tr>
<td>0</td><td><b>store</b> </td><td>array store  </td></tr>
<tr>
<td>1</td><td><b>select</b> </td><td>array select <p>
</td></tr>
</table>
<p>
In the low-level input format, array types are accompanied by a sequence of identifiers corresponding to the domain and range of the array the operations operate upon. In more detail, the contract is that the supplied parameters to the type declaration of an array are of the form:<p>
<ul>
<li>
parameter_0 - 1'st dimension </li>
<li>
parameter_{n-1} - n'th dimension </li>
<li>
parameter_n - range </li>
</ul>
<p>
The constant array function symbol <b>const</b> needs a parameter in order to infer the types of the indices of the constant array. We pass the array type as the parameter to <b>const</b>. The other array operations do not need parameters.<p>
We summarize the arities and semantics of the operators:<p>
<ul>
<li>
<b>store</b> -<p>
Updates an array at a given index with a value: <b>store</b>(A, i0, ... i_{n-1}, v) has the same contents as A, except on index i0, ... , i_{n-1}, where the value is v.<p>
</li>
<li>
<b>select</b> -<p>
Selects the value from an array: <b>select</b>(A, i0, ... , i_{n-}) selects the value stored at index i0, ... , i_{n-1}. </li>
</ul>
</div>
<div class="tabs"></div>
<address style="text-align: right;">
Last modified Thu Jun 18 11:31:26 2009
</BODY>
</HTML>
